<head>

<script>

window.dataLayer = window.dataLayer || []; //Creating the dataLayer object

dataLayer.push({

//Page details
‘pageName’: {{pageName}}, //Dynamic page name
'pageCategory1': {{pageCategory1}}, //Based on breadcrumb-sitemap level 1 mainHomePage, HPs (eg howItWorks, resources, tools, successStories, helpFaq, other)
'pageCategory2': {{pageCategory2}}, //Based on breadcrumb-sitemap level 2 category (eg revenueManagementCategoryOverview, distributionStrategyCategoryOverview,...)
'pageCategory3': {{pageCategory3}}, //Based on breadcrumb-sitemap level 3 subCategory (eg howToCalculateRevPar, revenueManagementAcronyms)
'pageAuthor': {{author}}, //post author
'pageError': {{pageError}}, //Type of error in page (404)
'nsLanguage': {{siteLanguage}}, //language selected by the user
'topicOfInterest': {{topicOfInterest}}, //eg channel management, enhance your listing, ...
'focalValue': {{focalValue}}, //eg BML, bookings, checkout, content, ...

//IDs
'GAID': {{cid}}, //Google Analytics client ID
'EPCsessionID': {{EPCsessionID}}, //a common key between native app events and app-hosted reactive web-views
'MarketoID': {{MarketoID}}, //ID assigned by Marketo
'XDID': {{XDID}}, //gives us the ability to track visitors/users across pretty much all EG sites eventually (including HomeAway)
'PropertyID': {{EID}}, //Expedia ID

//Content details
'Mode’: {{Mode}}, // Mode
'Module': {{module}}, //Contactenation of modules deployed in page
'Content': {{contentIDs}}, //Concatenation of content IDs deployed in page
'Zone': {{zoneIDs}}, //Concatenation of zone IDs deployed in page
'pageLayout': {{moduleIDs_contentIDs_zoneIDs}}, //Concatenation of module-content-zone IDs deployed in page regardless of whether or not they were visible

//Content engagement
'email': {{valid}}, //populate if valid email collected
'location': {{location}}, //location inserted by the user in the form
'propertyType': {{propertyType}}, //property type selected by the user

//Internal Search query
'searchTerm': {{searchTerm}}, //term searched by the user in the internal search bar

//Impressions tracking
 'ecommerce': {
    'impressions': [
     {
       // Name or ID is required
       'name': {{contentName}}, //if available       
       'id': {{moduleIDs_contentIDs}}, 
       'position': {{positionInPage}} //eg 1 optional
     },
     {
       // Name or ID is required
       'name': {{contentName}}, //if available       
       'id': {{moduleIDs_contentIDs}}, 
       'position': {{positionInPage}} /eg 2 optional
     }]

});

</script>

//First GTM Container snippet

...

</head>

<body>

//Second GTM Container snippet

...

</body>
